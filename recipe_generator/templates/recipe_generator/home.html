<!-- The main landing page of the site -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>

    {% extends "recipe_generator/base.html" %}
    {% load static %}
</head>
<body>
    {% block content %}

    <div class="center">
        <h1>MLaster Chef Recipe Generator</h1>
    </div>

    <form method="POST" class="center">
        {% csrf_token %}
            {{ ing_form.as_p }}
        <button type="submit">Submit</button>
    </form>

    <span></span>

    <img src="{% static 'recipe_generator/wip_cooking_animation.gif' %}" class="animation" width=50% lt="Cooking animation">

    <div class="center">
        <h1>Browse Previously Curated Recipies</h1>
    </div>

    <p>
        {{ ing_list_obj.recipe }}
    </p>

    <!-- would want to make the whole card clickable rather than just the image -->
    <!-- this thing would be generated by some sort of for loop and randomizer combination from the database of previously created recipies -->
    <!-- My bad, turns out I hadn't passed the saved_inggredent_list as a context variable in the home() function under views.py. Fixed now-->
    {% if saved_ingredients_list|length >= 1 %} <!-- CHANGED: the list object is saved_ingredients_list, not ing_list_obj. I want this to iterate over IngredientList.Objects.All but I dont know how -->
        {% for item in saved_ingredients_list reversed %} <!--iteratiing over the list makes 'i' reference the actual object *now in reverse ;)-->
            <div class="column25">
                <h2>
                    {{ item.tag }} <!-- therefore this is how you would access the tag of the object-->
                </h2>
                <a href=#>
                    <img alt="" src="" width="100%"/>
                </a>
                <h3>
                    Ingredients
                </h3>
                <p>
                    {{ item.ing_list }}
                </p>

                <h3>
                    Instructions
                </h3>
                <p>
                    {{ item.recipe }}
                </p>
            </div>
        {% endfor %}
    {% else %}
        <p class="center">{{ saved_ingredients_list }}</p> <!-- can't access IngredientList.objects.all from the template cause its not in the context under that name. Needs the name we give it in the context which is saved_ingredients_lists-->
    {% endif %}

    {% endblock %}
</body>
</html>